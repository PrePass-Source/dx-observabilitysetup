# Mimir configuration for local development
# Minimal configuration for local development

# Server configuration
server:
  http_listen_port: 9009
  grpc_listen_port: 9095

# Multi-tenancy (disabled for local dev)
multitenancy_enabled: false

# Ingester configuration
ingester:
  ring:
    kvstore:
      store: memberlist
    replication_factor: 1

# Distributor configuration
distributor:
  ring:
    kvstore:
      store: memberlist

# Compactor configuration
compactor:
  sharding_ring:
    kvstore:
      store: memberlist
  compaction_interval: 1h

# Store-gateway configuration
store_gateway:
  sharding_ring:
    kvstore:
      store: memberlist

# Querier configuration
querier:
  max_concurrent: 20

# Ruler configuration
ruler:
  ring:
    kvstore:
      store: memberlist
  rule_path: /data/rules

# Alertmanager configuration
alertmanager:
  sharding_ring:
    kvstore:
      store: memberlist
  data_dir: /data/alertmanager

# Memberlist configuration (for service discovery)
memberlist:
  join_members: []
  bind_addr: ['0.0.0.0']
  bind_port: 7946
  gossip_interval: 2s
  dead_node_reclaim_time: 30s

# Limits configuration
limits:
  ingestion_rate: 10000
  ingestion_burst_size: 20000
  max_queriers_per_tenant: 10
  ruler_max_rules_per_rule_group: 20
  ruler_max_rule_groups_per_tenant: 70 